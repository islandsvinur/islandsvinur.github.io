--- !hobix.com,2004/entry 
title: Making a static copy of a Wordpress blog
author: christian
content: "<p>After Abraracourcix the <a href=\"http://ijsland.luijten.org/\">Iceland blog</a> was next to move places.</p> \t<p>The weblog is a <a href=\"http://www.wordpress.org/\">Wordpress</a> installation and thus the content is dynamically generated by <span class=\"caps\">PHP</span>, using data in a MySQL database. This dynamic behavior is unnecessary for a weblog that has been closed and I therefore ventured on a plan to download the full website and make it available as a rather large set of plain static <span class=\"caps\">HTML</span> files.</p> \t<p>The first step you&#8217;d like to take when doing this is checking that the directory structure of the pages is to your liking. A standard Wordpress installation leaves a pretty clean structure: directories for each year, one for categories. If you have pages, they will show up with directories of their own.</p> \t<p>These directories don&#8217;t actually exist on the server but are constructed by <span class=\"caps\">URL</span> rewriting on the side of Wordpress. Very nice.</p> \t<p>Now you take <code>wget</code> and run it once over your entire site, for me it was <code>wget -nv -r http://ijsland.luijten.org/</code>. If you now look inside the <span class=\"caps\">HTML</span> files, you&#8217;ll notice lots of absolute hypertext references back to your own site. This is because of the options &#8216;home&#8217; and &#8216;siteurl&#8217; in Wordpress you&#8217;ll want to change. I changed them both to &#8217;/&#8217;.</p> \t<p>Next I went into the theme files (make a backup of them) and removed all forms, like search and comment forms. I also removed any reference to <span class=\"caps\">RSS</span> feeds and other scripts from the header. You may also want to remove eventual Feedburner references for tracking visitors.</p> \t<p>The site is now ready for one last sweep with wget.</p> \t<p>If you find that some images of the layout aren&#8217;t loaded correctly, it might be that they are referenced from the <span class=\"caps\">CSS</span> file and not directly from any <span class=\"caps\">HTML</span> files. You&#8217;ll have to open the <span class=\"caps\">CSS</span> file and download these images yourself.</p> \t<p>Don&#8217;t forget to make a backup of the database, you might want to reopen the weblog somewhere in the future!</p> \t<p>So, next time you&#8217;re at <a href=\"http://ijsland.luijten.org/\">http://ijsland.luijten.org/</a>, you&#8217;re being served static <span class=\"caps\">HTML</span> files by lighttpd.</p>"
created: 2007-05-22T14:16:56+01:00
